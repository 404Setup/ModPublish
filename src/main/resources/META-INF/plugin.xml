<idea-plugin>
    <id>one.pkg.modpublish</id>
    <name>Minecraft ModPublish</name>
    <version>${version}</version>
    <vendor url="https://github.com/404Setup">404Setup</vendor>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>
    <depends>org.intellij.plugins.markdown</depends>
    <depends>Git4Idea</depends>
    <description>
        <![CDATA[
      Help developers publish mods faster and publish mods to multiple supported platforms with just a few clicks.
    ]]>
    </description>
    <change-notes><![CDATA[

          <h2>v1.10.0</h2><h3>Feature</h3><ul><li>Reimplement Gitlab</li><li>Support sync README to Modrinth</li><li>Support LiteLoader and JavaAgent</li><li>Support automatic selection of Support Targets</li></ul><h3>Fix</h3><ul><li>Fixed the parsing failure caused by multiple ways of writing the minecraft version range in fabric.mod.json</li></ul><h3>Change</h3><ul><li>Changelog input box is now scrollable</li></ul><h3>Chore</h3><ul><li>Bump minecraft version list</li></ul><h2>v0.0.9</h2><h3>Fix</h3><ul><li>Modrinth publish failed</li></ul><h2>v0.0.8</h2><h3>Optimize</h3><ul><li>Improved KToml parser</li></ul><h3>Chore</h3><ul><li>Bump minecraft version list</li></ul><h3>Fix</h3><ul><li>LocalModInfo not being updated correctly</li></ul><h2>v0.0.7</h2><h3>Refactor</h3><ul><li>Refactoring part of the code using Kotlin</li></ul><h3>Optimize</h3><ul><li>Improved KToml parser</li></ul><h3>Change</h3><ul><li>Java 17 is now required</li><li>Use Kotlin coroutines instead of JVM virtual threads</li></ul><h3>Remove</h3><ul><li>remove lombok</li></ul><h3>Chore</h3><ul><li>Bump minecraft version list</li></ul><h3>Fix</h3><ul><li>Fix file selector and ReleaseChannel to the left side of the page to resolve the issue where they sometimes moved to the center.</li><li>Under certain conditions, the PublishUI success dialog cannot pop up</li></ul><hr><h2>v0.0.6</h2><h3>Feature</h3><ul><li>More configurable network options</li><li>Support proxy simple auth</li><li>Add pluginIcon</li><li>Curseforge supports multiple file uploads</li><li>When the previous publication target fails, the later publishing tasks will not be canceled</li><li>When publishing fails, all error messages are displayed</li><li>Supports hot updates of the Minecraft version list</li></ul><h3>Performance</h3><ul><li>PublishTask is now parallel</li><li>PublishTask no longer freezes PublishUI</li><li>Improved Toml parser</li></ul><h3>Optimize</h3><ul><li>Enhanced number input field validation</li><li>More icons</li></ul><h3>Translate</h3><ul><li>Improved translations</li></ul><h3>Change</h3><ul><li>Java 21 is now required</li></ul><h3>Remove</h3><ul><li>remove modrinth test server</li></ul><h3>Chore</h3><ul><li>Bump minecraft version list</li></ul><h3>Fix</h3><ul><li>Incorrect reading of ProxyType</li><li>In some cases, the GUI could not start due to VersionRangeParser initialization failure.</li></ul><hr><h2>v0.0.5</h2><h3>Feature</h3><ul><li>More uses for version parser: Automatically select version ranges</li><li>Upload multiple files simultaneously</li><li>Improved Toml parser</li><li>When API errors occur, should return API ID</li><li>Support using proxy server. Need to configure in settings.</li><li>Support auto detecting current Git branch</li></ul><h3>Performance</h3><ul><li>Don't process Minecraft version list synchronously when creating UI</li><li>Cache isn't used effectively</li></ul><h3>Change</h3><ul><li>Network request timeout increased from 15 to 20 seconds</li></ul><h3>Translate</h3><ul><li>Added German translation</li></ul><h3>Remove</h3><ul><li>Cancel plans to provide GitLab compatibility</li></ul><h3>Chore</h3><ul><li>Use Lombok to clean code</li><li>Add a prompt for CurseForge</li><li>Bump minecraft version list</li></ul><h3>Fix</h3><ul><li>Version parts should not be null</li><li>The first value is not selected by default after refreshing Minecraft version list</li><li>An incorrect judgment in the dependency manager</li><li>When API returns error message, should not call getI18n method to create PublishResult</li><li>Settings options disappeared due to ID conflict</li></ul><hr><h2>v0.0.4</h2><h3>Feature</h3><ul><li>Improved Toml Parser</li><li>Added variables for name template: low-version, max-version</li><li>When publishing to Github, it will now automatically reuse existing release tags</li></ul><h3>UI</h3><ul><li>Allow scrolling in the Publish page</li><li>Replaced Changelog input component with EditorTextField</li><li>PublishUI layout optimization</li></ul><h3>Change</h3><ul><li>When publishing to Github/Gitlab, loader and support target selection is no longer mandatory</li></ul><h3>Translate</h3><ul><li>Improved translations</li><li>Added French translation</li><li>Added Russian translation</li><li>Added Spanish translation</li></ul><h3>Chore</h3><ul><li>Bump minecraft version list</li></ul><h3>Fix</h3><ul><li>Title repeatedly requests i18n</li><li>Fixed incorrect Korean reference</li></ul><hr><h2>v0.0.3</h2><h3>Feature</h3><ul><li>Detect token decryption status on release page</li><li>Improved hardware ID algorithm to prevent frequent token invalidation</li><li>Added support for Github</li><li>Github/GitLab branches are now optional, ModPublish will search for them in the repo</li><li>Quick access to token application pages from settings</li></ul><h3>Fix</h3><ul><li>Do not display tooltip for disabled release targets on release page</li></ul><h3>Translate</h3><ul><li>Improved translations</li></ul><h3>Change</h3><ul><li>ModType name should be capitalized</li></ul><hr><h2>v0.0.2</h2><h3>Feature</h3><ul><li>Auto generate title based on mod name/version/loader or user-customized format</li><li>Support for selecting release channels</li></ul><h3>Optimize</h3><ul><li>Project configuration UI optimization</li><li>Project structure optimization</li></ul><h3>Fix</h3><ul><li>Unable to read TOML</li><li>Some other bugs (my commit records were lost, so I don't remember)</li></ul><h3>Remove</h3><ul><li>No longer using JToml</li></ul><hr><h3>v0.0.1</h3><ul><li>Release</li></ul>

    ]]></change-notes>
    <resource-bundle>messages.ModPublish</resource-bundle>
    <actions>
        <action id="modpublish.action.publish" class="one.pkg.modpublish.ui.action.PublishModAction"
                icon="com.intellij.platform.vcs.impl.icons.PlatformVcsImplIcons.CommitInline">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="CutCopyPasteGroup"/>
        </action>
        <action id="modpublish.action.patch-description" class="one.pkg.modpublish.ui.action.SyncDescriptionAction"
                icon="com.intellij.platform.vcs.impl.icons.PlatformVcsImplIcons.CommitInline">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="CutCopyPasteGroup"/>
        </action>
        <action
                id="modpublish.action.config"
                class="one.pkg.modpublish.ui.action.ConfigProjectAction"
                icon="com.intellij.platform.vcs.impl.icons.PlatformVcsImplIcons.AmendInline">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService
                serviceImplementation="one.pkg.modpublish.settings.ModPublishSettings"/>
        <applicationConfigurable
                parentId="tools"
                instance="one.pkg.modpublish.settings.ModPublishSettingsConfigurable"
                id="modpublish.global-settings" key="title.global-settings"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>

</idea-plugin>